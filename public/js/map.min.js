document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".map-container").forEach((e=>{const t=JSON.parse(e.querySelector(".mapdata").textContent),r=e.querySelector(".map"),o=L.map(r).setView([51.163361,10.447683],6),a=L.featureGroup();o.attributionControl.setPrefix(!1),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors",minZoom:5,maxZoom:18}).addTo(o),t.forEach((e=>{L.marker([e.lat,e.lon],{icon:L.divIcon({iconSize:[30,30],className:"map-marker",html:`<img src="/images/icons/${e.type}.svg" alt="marker" />`})}).bindPopup(`\n                <b>#${e.number}</b><br />\n                ${e.name}<br />${e.address.street}<br />${e.address.zipCode} ${e.address.city}<br />\n                <a href="${new URL("/order?uuid="+e.uuid,__url).toString()}">Weitere Details</a>\n            `).addTo(a)})),a.addTo(o),o.fitBounds(a.getBounds(),{padding:[40,40],maxZoom:12})}))}));