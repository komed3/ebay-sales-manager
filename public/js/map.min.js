document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".map-container").forEach((e=>{const t=JSON.parse(e.querySelector(".mapdata").textContent),a=e.querySelector(".map"),o=L.map(a).setView([51.163361,10.447683],6),r=L.featureGroup();o.attributionControl.setPrefix(!1),L.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}@2x.png",{subdomains:"abcd",attribution:"&copy; Copyright by Carto &amp; OSM",minZoom:5,maxZoom:18}).addTo(o),t.forEach((e=>{L.marker([e.lat,e.lon],{icon:L.divIcon({iconSize:[30,30],className:"map-marker",html:`<img src="/images/icons/${e.type}.svg" alt="marker" />`})}).bindPopup(`\n                <b>#${e.number}</b><br />\n                ${e.name}<br />${e.address.street}<br />${e.address.zipCode} ${e.address.city}<br />\n                <a href="${new URL("/order?uuid="+e.uuid,__url).toString()}">Weitere Details</a>\n            `).addTo(r)})),r.addTo(o),o.fitBounds(r.getBounds(),{padding:[40,40],maxZoom:12})}))}));