document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".map-container").forEach((e=>{const t=JSON.parse(e.querySelector(".mapdata").textContent),o=e.querySelector(".map"),a=L.map(o).setView([51.163361,10.447683],6),r=L.featureGroup();switch(a.attributionControl.setPrefix(!1),__set.layer){case"carto":L.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}@2x.png",{subdomains:"abcd",attribution:"&copy; Copyright by Carto &amp; OSM",minZoom:5,maxZoom:18}).addTo(a);break;case"osm":L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; Copyright by OSM",minZoom:5,maxZoom:18}).addTo(a);break}t.forEach((e=>{L.marker([e.lat,e.lon],{icon:L.divIcon({iconSize:[30,30],className:"map-marker",html:`<img src="/images/icons/${e.type}.svg" alt="marker" />`})}).bindPopup(`\n                <b>#${e.number}</b><br />\n                ${e.name}<br />\n                ${e.address.street}<br />\n                ${e.address.zipCode} ${e.address.city}<br />\n                ${e.country}<br />\n                <a href="${new URL("/order?uuid="+e.uuid,__url).toString()}">${I18N.map.more}</a>\n            `).addTo(r)})),r.addTo(a),a.fitBounds(r.getBounds(),{padding:[40,40],maxZoom:12})}))}));