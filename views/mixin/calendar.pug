mixin calendar( dates )
  -
    const now = new Date()
    const months = []
    for ( let i = 11; i >= 0; i-- ) {
      const d = new Date( now.getFullYear(), now.getMonth() - i, 1 )
      months.push( d )
    }

  div.calendar
    each month in months
      -
        const y = month.getFullYear()
        const m = month.getMonth()
        const first = new Date( y, m, 1 )
        const last = new Date( y, m + 1, 0 )
        const startDay = ( first.getDay() + 6 ) % 7
        const total = startDay + last.getDate()
      div.month
        h4.label= month.toLocaleString( lang, { month: 'short', year: 'numeric' } )
        div.grid
          each wd in t( 'generic.wd' ).split( '' )
            div.wd= wd
          - for (let i = 0; i < total; i++) {
            - const dayNum = i - startDay + 1
            if i < startDay
              div.day.empty
            else
              - const dateStr = `${y}-${ String( m + 1 ).padStart( 2, '0' ) }-${ String( dayNum ).padStart( 2, '0' ) }`
              if dates.includes( dateStr )
                a.day.marked(
                  href= `/orders?from=${dateStr}&to=${dateStr}`
                )= dayNum
              else
                div.day= dayNum
          - }
