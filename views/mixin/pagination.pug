mixin pagination( query, max, limit, offset )
  - var maxPage = Math.ceil( max / limit )
  - var curPage = offset / limit + 1
  if maxPage > 1
    - var hrefQuery = new URLSearchParams( query )
    - var raw = [ 1, curPage - 2, curPage - 1, curPage, curPage + 1, curPage + 2, maxPage ]
    - var pages = [ ...new Set( raw.filter( p => p >= 1 && p <= maxPage ) ) ]
    - var last = 1
    div.pagination
      each page in pages
        if last + 1 < page
          span â€¦
        if page == curPage
          strong= page
        else
          - hrefQuery.set( 'offset', ( page - 1 ) * limit )
          a( href= '?' + hrefQuery.toString() )= page
        - last = page
